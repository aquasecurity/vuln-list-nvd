{
  "id": "CVE-2022-50225",
  "sourceIdentifier": "416baaa9-dc9f-4396-8d5f-8c081fb06d67",
  "published": "2025-06-18T11:15:53.517",
  "lastModified": "2025-06-18T11:15:53.517",
  "vulnStatus": "Received",
  "descriptions": [
    {
      "lang": "en",
      "value": "In the Linux kernel, the following vulnerability has been resolved:\n\nriscv:uprobe fix SR_SPIE set/clear handling\n\nIn riscv the process of uprobe going to clear spie before exec\nthe origin insn,and set spie after that.But When access the page\nwhich origin insn has been placed a page fault may happen and\nirq was disabled in arch_uprobe_pre_xol function,It cause a WARN\nas follows.\nThere is no need to clear/set spie in arch_uprobe_pre/post/abort_xol.\nWe can just remove it.\n\n[   31.684157] BUG: sleeping function called from invalid context at kernel/locking/rwsem.c:1488\n[   31.684677] in_atomic(): 0, irqs_disabled(): 1, non_block: 0, pid: 76, name: work\n[   31.684929] preempt_count: 0, expected: 0\n[   31.685969] CPU: 2 PID: 76 Comm: work Tainted: G\n[   31.686542] Hardware name: riscv-virtio,qemu (DT)\n[   31.686797] Call Trace:\n[   31.687053] [\u003cffffffff80006442\u003e] dump_backtrace+0x30/0x38\n[   31.687699] [\u003cffffffff80812118\u003e] show_stack+0x40/0x4c\n[   31.688141] [\u003cffffffff8081817a\u003e] dump_stack_lvl+0x44/0x5c\n[   31.688396] [\u003cffffffff808181aa\u003e] dump_stack+0x18/0x20\n[   31.688653] [\u003cffffffff8003e454\u003e] __might_resched+0x114/0x122\n[   31.688948] [\u003cffffffff8003e4b2\u003e] __might_sleep+0x50/0x7a\n[   31.689435] [\u003cffffffff80822676\u003e] down_read+0x30/0x130\n[   31.689728] [\u003cffffffff8000b650\u003e] do_page_fault+0x166/x446\n[   31.689997] [\u003cffffffff80003c0c\u003e] ret_from_exception+0x0/0xc"
    }
  ],
  "metrics": {},
  "references": [
    {
      "url": "https://git.kernel.org/stable/c/3811d51778900064d27d8c9a98f73410fb3b471d",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/3dbe5829408bc1586f75b4667ef60e5aab0209c7",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/73fc099eaefd9a92c83b6c07dad066411fd5a192",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/c71e000db8536d27ec410abb3e314896a78b4f19",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    }
  ]
}