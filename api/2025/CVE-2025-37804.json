{
  "id": "CVE-2025-37804",
  "sourceIdentifier": "416baaa9-dc9f-4396-8d5f-8c081fb06d67",
  "published": "2025-05-08T07:15:51.570",
  "lastModified": "2025-05-08T07:15:51.570",
  "vulnStatus": "Received",
  "descriptions": [
    {
      "lang": "en",
      "value": "In the Linux kernel, the following vulnerability has been resolved:\n\nio_uring: always do atomic put from iowq\n\nio_uring always switches requests to atomic refcounting for iowq\nexecution before there is any parallilism by setting REQ_F_REFCOUNT,\nand the flag is not cleared until the request completes. That should be\nfine as long as the compiler doesn't make up a non existing value for\nthe flags, however KCSAN still complains when the request owner changes\noter flag bits:\n\nBUG: KCSAN: data-race in io_req_task_cancel / io_wq_free_work\n...\nread to 0xffff888117207448 of 8 bytes by task 3871 on cpu 0:\n req_ref_put_and_test io_uring/refs.h:22 [inline]\n\nSkip REQ_F_REFCOUNT checks for iowq, we know it's set."
    },
    {
      "lang": "es",
      "value": "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: io_uring: siempre realiza una operación de put atómica desde iowq. io_uring siempre cambia las solicitudes al recuento atómico para la ejecución de iowq antes de que haya paralelismo, estableciendo REQ_F_REFCOUNT, y el indicador no se borra hasta que se completa la solicitud. Esto debería funcionar correctamente siempre que el compilador no cree un valor inexistente para los indicadores. Sin embargo, KCSAN sigue presentando problemas cuando el propietario de la solicitud cambia otros bits del indicador: ERROR: KCSAN: data-race en io_req_task_cancel / io_wq_free_work ... leído hasta 0xffff888117207448 de 8 bytes por la tarea 3871 en la CPU 0: req_ref_put_and_test io_uring/refs.h:22 [en línea] Omitir las comprobaciones de REQ_F_REFCOUNT para iowq; sabemos que está establecido."
    }
  ],
  "metrics": {},
  "references": [
    {
      "url": "https://git.kernel.org/stable/c/3568fd9e440ea393c7d8bee253419ea11fd8e9d9",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/390513642ee6763c7ada07f0a1470474986e6c1c",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/6d2753b46452a557a12f7ef1ef4ee6641b4e89d8",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/c5d4d103005d8926cdad344f9fc947e651c9f2f7",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    }
  ]
}