{
  "id": "CVE-2024-42137",
  "sourceIdentifier": "416baaa9-dc9f-4396-8d5f-8c081fb06d67",
  "published": "2024-07-30T08:15:05.583",
  "lastModified": "2024-07-30T08:15:05.583",
  "vulnStatus": "Received",
  "descriptions": [
    {
      "lang": "en",
      "value": "In the Linux kernel, the following vulnerability has been resolved:\n\nBluetooth: qca: Fix BT enable failure again for QCA6390 after warm reboot\n\nCommit 272970be3dab (\"Bluetooth: hci_qca: Fix driver shutdown on closed\nserdev\") will cause below regression issue:\n\nBT can't be enabled after below steps:\ncold boot -\u003e enable BT -\u003e disable BT -\u003e warm reboot -\u003e BT enable failure\nif property enable-gpios is not configured within DT|ACPI for QCA6390.\n\nThe commit is to fix a use-after-free issue within qca_serdev_shutdown()\nby adding condition to avoid the serdev is flushed or wrote after closed\nbut also introduces this regression issue regarding above steps since the\nVSC is not sent to reset controller during warm reboot.\n\nFixed by sending the VSC to reset controller within qca_serdev_shutdown()\nonce BT was ever enabled, and the use-after-free issue is also fixed by\nthis change since the serdev is still opened before it is flushed or wrote.\n\nVerified by the reported machine Dell XPS 13 9310 laptop over below two\nkernel commits:\ncommit e00fc2700a3f (\"Bluetooth: btusb: Fix triggering coredump\nimplementation for QCA\") of bluetooth-next tree.\ncommit b23d98d46d28 (\"Bluetooth: btusb: Fix triggering coredump\nimplementation for QCA\") of linus mainline tree."
    },
    {
      "lang": "es",
      "value": "En el kernel de Linux, se resolvió la siguiente vulnerabilidad: Bluetooth: qca: corrija el error de habilitación de BT nuevamente para QCA6390 después de un reinicio en caliente. La confirmación 272970be3dab (\"Bluetooth: hci_qca: corrija el apagado del controlador en un serdev cerrado\") causará el siguiente problema de regresión: BT puede No se habilitará después de los pasos siguientes: arranque en frío -\u0026gt; habilitar BT -\u0026gt; deshabilitar BT -\u0026gt; reinicio en caliente -\u0026gt; falla de habilitación de BT si la propiedad enable-gpios no está configurada dentro de DT|ACPI para QCA6390. El compromiso es solucionar un problema de use after free dentro de qca_serdev_shutdown() agregando una condición para evitar que el serdev se vacíe o escriba después de cerrarse, pero también introduce este problema de regresión con respecto a los pasos anteriores, ya que el VSC no se envía para restablecer el controlador durante el reinicio en caliente. . Se solucionó enviando el VSC para restablecer el controlador dentro de qca_serdev_shutdown() una vez que BT estuvo habilitado, y el problema de use after free también se solucionó con este cambio ya que el serdev todavía está abierto antes de vaciarse o escribirse. Verificado por la computadora portátil Dell XPS 13 9310 de la máquina informada en las siguientes dos confirmaciones del kernel: confirmación e00fc2700a3f (\"Bluetooth: btusb: solución de activación de la implementación de coredump para QCA\") del árbol siguiente de bluetooth. confirme b23d98d46d28 (\"Bluetooth: btusb: solución que activa la implementación de coredump para QCA\") del árbol principal de Linux."
    }
  ],
  "metrics": {},
  "references": [
    {
      "url": "https://git.kernel.org/stable/c/215a26c2404fa34625c725d446967fa328a703eb",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/4ca6013cd18e58ac1044908c40d4006a92093a11",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/88e72239ead9814b886db54fc4ee39ef3c2b8f26",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/977b9dc65e14fb80de4763d949c7dec2ecb15b9b",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/e2d8aa4c763593704ac21e7591aed4f13e32f3b5",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/e6e200b264271f62a3fadb51ada9423015ece37b",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    }
  ]
}